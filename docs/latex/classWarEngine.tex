\hypertarget{classWarEngine}{}\doxysection{War\+Engine Class Reference}
\label{classWarEngine}\index{WarEngine@{WarEngine}}


{\ttfamily \#include $<$War\+Engine.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classWarEngineMemento}{War\+Engine\+Memento}} $\ast$ \mbox{\hyperlink{classWarEngine_afe7e71964cca280d52f4298e97e1a8d7}{save\+State}} ()
\begin{DoxyCompactList}\small\item\em Captures current state of simulation via member variables and creates \mbox{\hyperlink{classWarEngineMemento}{War\+Engine\+Memento}} instance storing all relevant members in \mbox{\hyperlink{classWarEngineState}{War\+Engine\+State}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classWarEngine_a715995a703811197d16102ca80bf6fca}{load\+Save}} (\mbox{\hyperlink{classWarEngineMemento}{War\+Engine\+Memento}} $\ast$save)
\begin{DoxyCompactList}\small\item\em Takes in an instance of saved \mbox{\hyperlink{classWarEngine}{War\+Engine}} states and sets current instance\textquotesingle{}s member variables to memento state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classWarEngine_ad3204f345ee8d36a37e8d47700420825}{set\+War\+Theatre}} (\mbox{\hyperlink{classWarTheatre}{War\+Theatre}} $\ast$battle\+Ground)
\begin{DoxyCompactList}\small\item\em Sets the state\textquotesingle{}s area to passed in battle\+Ground parameter. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classWarEngine_aea477ae54ae3b5fac8fe02be1153eb9a}{add\+Alliance}} (\mbox{\hyperlink{classAlliance}{Alliance}} $\ast$alliance)
\item 
void \mbox{\hyperlink{classWarEngine_a8990aec96d7e77f10b39f4ac05dca43b}{simulate}} ()
\begin{DoxyCompactList}\small\item\em Simulates the war. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classWarEngine}{War\+Engine}} \& \mbox{\hyperlink{classWarEngine_aa8219fbd385bb54ad0363257915fe986}{get\+Instance}} ()
\begin{DoxyCompactList}\small\item\em Function that returns a reference to the current (and only) instance of the class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classWarEngine_a3c95a6990a6eabd99f1ea0ade30f85f2}{War\+Engine}} ()
\begin{DoxyCompactList}\small\item\em Constructor for class. Is responsible for ensuring only a single instance of class exists. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classWarEngine_a76af9e002be42642841c863b9d0ab710}{War\+Engine}} (const \mbox{\hyperlink{classWarEngine}{War\+Engine}} \&)
\begin{DoxyCompactList}\small\item\em Parameterized constructor for class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classWarEngine}{War\+Engine}} \& \mbox{\hyperlink{classWarEngine_a56aed2dc646f6734e0c2e9ff41776d2e}{operator=}} (const \mbox{\hyperlink{classWarEngine}{War\+Engine}} \&)
\begin{DoxyCompactList}\small\item\em Overloaded operator = for class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classWarEngine_a23425e290b562445897d4c54a80c5485}{$\sim$\+War\+Engine}} ()
\begin{DoxyCompactList}\small\item\em Destrcutor for class responsible for freeing all allocated memory. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class that contains all information regarding current simulation. Only one instance of class is allowed. 

Definition at line \mbox{\hyperlink{WarEngine_8h_source_l00012}{12}} of file \mbox{\hyperlink{WarEngine_8h_source}{War\+Engine.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classWarEngine_a3c95a6990a6eabd99f1ea0ade30f85f2}\label{classWarEngine_a3c95a6990a6eabd99f1ea0ade30f85f2}} 
\index{WarEngine@{WarEngine}!WarEngine@{WarEngine}}
\index{WarEngine@{WarEngine}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{WarEngine()}{WarEngine()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily War\+Engine\+::\+War\+Engine (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Constructor for class. Is responsible for ensuring only a single instance of class exists. 



Definition at line \mbox{\hyperlink{WarEngine_8cpp_source_l00005}{5}} of file \mbox{\hyperlink{WarEngine_8cpp_source}{War\+Engine.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00005                     \{}
\DoxyCodeLine{00006     this-\/>state = \textcolor{keyword}{new} \mbox{\hyperlink{classWarEngineState}{WarEngineState}}();}
\DoxyCodeLine{00007 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWarEngine_a76af9e002be42642841c863b9d0ab710}\label{classWarEngine_a76af9e002be42642841c863b9d0ab710}} 
\index{WarEngine@{WarEngine}!WarEngine@{WarEngine}}
\index{WarEngine@{WarEngine}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{WarEngine()}{WarEngine()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily War\+Engine\+::\+War\+Engine (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classWarEngine}{War\+Engine}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Parameterized constructor for class. 


\begin{DoxyParams}{Parameters}
{\em war\+Engine\&} & An anonymous war\+Engine reference.\\
\hline
\end{DoxyParams}
Postconditions\+:
\begin{DoxyItemize}
\item parameter must be of type \mbox{\hyperlink{classWarEngine}{War\+Engine}}\& 
\end{DoxyItemize}

Definition at line \mbox{\hyperlink{WarEngine_8h_source_l00033}{33}} of file \mbox{\hyperlink{WarEngine_8h_source}{War\+Engine.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00033 \{\};}

\end{DoxyCode}
\mbox{\Hypertarget{classWarEngine_a23425e290b562445897d4c54a80c5485}\label{classWarEngine_a23425e290b562445897d4c54a80c5485}} 
\index{WarEngine@{WarEngine}!````~WarEngine@{$\sim$WarEngine}}
\index{````~WarEngine@{$\sim$WarEngine}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{$\sim$WarEngine()}{~WarEngine()}}
{\footnotesize\ttfamily War\+Engine\+::$\sim$\+War\+Engine (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Destrcutor for class responsible for freeing all allocated memory. 



Definition at line \mbox{\hyperlink{WarEngine_8cpp_source_l00023}{23}} of file \mbox{\hyperlink{WarEngine_8cpp_source}{War\+Engine.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00023                      \{}
\DoxyCodeLine{00024     \textcolor{keyword}{delete} this-\/>state;}
\DoxyCodeLine{00025 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classWarEngine_aea477ae54ae3b5fac8fe02be1153eb9a}\label{classWarEngine_aea477ae54ae3b5fac8fe02be1153eb9a}} 
\index{WarEngine@{WarEngine}!addAlliance@{addAlliance}}
\index{addAlliance@{addAlliance}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{addAlliance()}{addAlliance()}}
{\footnotesize\ttfamily void War\+Engine\+::add\+Alliance (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classAlliance}{Alliance}} $\ast$}]{alliance }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{WarEngine_8cpp_source_l00087}{87}} of file \mbox{\hyperlink{WarEngine_8cpp_source}{War\+Engine.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00087                                               \{}
\DoxyCodeLine{00088     state-\/>alliances.push\_back(alliance);}
\DoxyCodeLine{00089 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWarEngine_aa8219fbd385bb54ad0363257915fe986}\label{classWarEngine_aa8219fbd385bb54ad0363257915fe986}} 
\index{WarEngine@{WarEngine}!getInstance@{getInstance}}
\index{getInstance@{getInstance}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{getInstance()}{getInstance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classWarEngine}{War\+Engine}} \& War\+Engine\+::get\+Instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function that returns a reference to the current (and only) instance of the class. 

\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{classWarEngine}{War\+Engine}}\& 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{WarEngine_8cpp_source_l00018}{18}} of file \mbox{\hyperlink{WarEngine_8cpp_source}{War\+Engine.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00018                                  \{}
\DoxyCodeLine{00019     \textcolor{keyword}{static} \mbox{\hyperlink{classWarEngine}{WarEngine}} uniqueInstance\_;}
\DoxyCodeLine{00020     \textcolor{keywordflow}{return} uniqueInstance\_;}
\DoxyCodeLine{00021 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWarEngine_a715995a703811197d16102ca80bf6fca}\label{classWarEngine_a715995a703811197d16102ca80bf6fca}} 
\index{WarEngine@{WarEngine}!loadSave@{loadSave}}
\index{loadSave@{loadSave}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{loadSave()}{loadSave()}}
{\footnotesize\ttfamily void War\+Engine\+::load\+Save (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classWarEngineMemento}{War\+Engine\+Memento}} $\ast$}]{save }\end{DoxyParamCaption})}



Takes in an instance of saved \mbox{\hyperlink{classWarEngine}{War\+Engine}} states and sets current instance\textquotesingle{}s member variables to memento state. 

Preconditions\+:
\begin{DoxyItemize}
\item Save must be of type War\+Engine\+Memento$\ast$
\end{DoxyItemize}

Postconditions\+:
\begin{DoxyItemize}
\item Sets the instance of the class\textquotesingle{}state member variable to the passed in save parameter.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em save} & must be a War\+Engine\+Memento$\ast$ \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{WarEngine_8cpp_source_l00013}{13}} of file \mbox{\hyperlink{WarEngine_8cpp_source}{War\+Engine.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00013                                                \{}
\DoxyCodeLine{00014     \textcolor{keyword}{delete} this-\/>state;}
\DoxyCodeLine{00015     this-\/>state = save-\/>getState();}
\DoxyCodeLine{00016 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWarEngine_a56aed2dc646f6734e0c2e9ff41776d2e}\label{classWarEngine_a56aed2dc646f6734e0c2e9ff41776d2e}} 
\index{WarEngine@{WarEngine}!operator=@{operator=}}
\index{operator=@{operator=}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classWarEngine}{War\+Engine}} \& War\+Engine\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classWarEngine}{War\+Engine}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Overloaded operator = for class. 



Definition at line \mbox{\hyperlink{WarEngine_8h_source_l00038}{38}} of file \mbox{\hyperlink{WarEngine_8h_source}{War\+Engine.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00038 \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \};}

\end{DoxyCode}
\mbox{\Hypertarget{classWarEngine_afe7e71964cca280d52f4298e97e1a8d7}\label{classWarEngine_afe7e71964cca280d52f4298e97e1a8d7}} 
\index{WarEngine@{WarEngine}!saveState@{saveState}}
\index{saveState@{saveState}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{saveState()}{saveState()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classWarEngineMemento}{War\+Engine\+Memento}} $\ast$ War\+Engine\+::save\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Captures current state of simulation via member variables and creates \mbox{\hyperlink{classWarEngineMemento}{War\+Engine\+Memento}} instance storing all relevant members in \mbox{\hyperlink{classWarEngineState}{War\+Engine\+State}}. 

\begin{DoxyReturn}{Returns}
War\+Engine\+Memento$\ast$ 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{WarEngine_8cpp_source_l00009}{9}} of file \mbox{\hyperlink{WarEngine_8cpp_source}{War\+Engine.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00009                                        \{}
\DoxyCodeLine{00010     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{classWarEngineMemento}{WarEngineMemento}}(state-\/>\mbox{\hyperlink{classWarEngineState_a89508b034ce4006ed830f671b525f745}{clone}}());}
\DoxyCodeLine{00011 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWarEngine_ad3204f345ee8d36a37e8d47700420825}\label{classWarEngine_ad3204f345ee8d36a37e8d47700420825}} 
\index{WarEngine@{WarEngine}!setWarTheatre@{setWarTheatre}}
\index{setWarTheatre@{setWarTheatre}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{setWarTheatre()}{setWarTheatre()}}
{\footnotesize\ttfamily void War\+Engine\+::set\+War\+Theatre (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classWarTheatre}{War\+Theatre}} $\ast$}]{battle\+Ground }\end{DoxyParamCaption})}



Sets the state\textquotesingle{}s area to passed in battle\+Ground parameter. 


\begin{DoxyParams}{Parameters}
{\em battle\+Ground} & must be a War\+Theatre$\ast$\\
\hline
\end{DoxyParams}
Preconditions\+:
\begin{DoxyItemize}
\item battle\+Ground must be of type War\+Theatre$\ast$
\end{DoxyItemize}

Postconditions\+:
\begin{DoxyItemize}
\item sets area in \mbox{\hyperlink{classWarEngineState}{War\+Engine\+State}} to passed in \mbox{\hyperlink{classWarTheatre}{War\+Theatre}}.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{WarEngine_8cpp_source_l00083}{83}} of file \mbox{\hyperlink{WarEngine_8cpp_source}{War\+Engine.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00083                                                      \{}
\DoxyCodeLine{00084     state-\/>\mbox{\hyperlink{classWarEngineState_af79cacdce276b52be3bedfe1a22c5f48}{setArea}}(battleGround);}
\DoxyCodeLine{00085 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWarEngine_a8990aec96d7e77f10b39f4ac05dca43b}\label{classWarEngine_a8990aec96d7e77f10b39f4ac05dca43b}} 
\index{WarEngine@{WarEngine}!simulate@{simulate}}
\index{simulate@{simulate}!WarEngine@{WarEngine}}
\doxysubsubsection{\texorpdfstring{simulate()}{simulate()}}
{\footnotesize\ttfamily void War\+Engine\+::simulate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Simulates the war. 

Post\+Conditions\+:
\begin{DoxyItemize}
\item Will simulate the war by running the engine
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{WarEngine_8cpp_source_l00028}{28}} of file \mbox{\hyperlink{WarEngine_8cpp_source}{War\+Engine.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00028                          \{}
\DoxyCodeLine{00029     }
\DoxyCodeLine{00030     vector<Alliance*> alliances = this-\/>state-\/>\mbox{\hyperlink{classWarEngineState_aa88851d165886c80521e93c2d74338d5}{getAlliances}}();}
\DoxyCodeLine{00031     \textcolor{keywordtype}{int} numAlliances = alliances.size();}
\DoxyCodeLine{00032     \textcolor{keywordflow}{while} (numAlliances > 1) \{}
\DoxyCodeLine{00033         numAlliances = 0;}
\DoxyCodeLine{00034         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < alliances.size(); i++) \{}
\DoxyCodeLine{00035             \textcolor{keywordflow}{if} (alliances[i]-\/>getActive() == 1) \{}
\DoxyCodeLine{00036                 numAlliances++;}
\DoxyCodeLine{00037                 RoundStats::clearStats();}
\DoxyCodeLine{00038                 state-\/>\mbox{\hyperlink{classWarEngineState_a9c1fe3cc21780d0a8e1d82ce76fe7430}{getArea}}()-\/>simulateBattle(alliances[i]);}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040                 \textcolor{keywordtype}{double} percLoss = (RoundStats::numLosingPoints * 1.0) / (RoundStats::numLosingPoints + RoundStats::numContestedPoints + RoundStats::numWinningPoints);}
\DoxyCodeLine{00041                 \textcolor{keywordflow}{if} (percLoss >= 0.7) \{}
\DoxyCodeLine{00042                     alliances[i]-\/>surrender();}
\DoxyCodeLine{00043                 \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (percLoss >= 0.6) \{}
\DoxyCodeLine{00044                     alliances[i]-\/>offerPeace();}
\DoxyCodeLine{00045                 \}}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047                 cout << \textcolor{stringliteral}{"{}========================================================================"{}} << endl << endl;}
\DoxyCodeLine{00048                 cout << \textcolor{stringliteral}{"{}Alliance "{}} << alliances[i]-\/>getID() << \textcolor{stringliteral}{"{}:"{}} << endl;}
\DoxyCodeLine{00049                 }
\DoxyCodeLine{00050                 \textcolor{keywordflow}{if} (alliances[i]-\/>getActive() == 2) \{}
\DoxyCodeLine{00051                     cout << \textcolor{stringliteral}{"{}Status: Surrendered"{}} << endl; }
\DoxyCodeLine{00052                 \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (alliances[i]-\/>getActive() == 3) \{}
\DoxyCodeLine{00053                     cout << \textcolor{stringliteral}{"{}Status: Found Peace"{}} << endl; }
\DoxyCodeLine{00054                 \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00055                     cout << \textcolor{stringliteral}{"{}Status: Active"{}} << endl; }
\DoxyCodeLine{00056                 \}}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058                 cout << RoundStats::toString() << endl;}
\DoxyCodeLine{00059                 cout << \textcolor{stringliteral}{"{}========================================================================"{}} << endl;}
\DoxyCodeLine{00060             \}}
\DoxyCodeLine{00061         \}}
\DoxyCodeLine{00062     \}}
\DoxyCodeLine{00063 }
\DoxyCodeLine{00064     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < alliances.size(); i++) \{}
\DoxyCodeLine{00065         cout << \textcolor{stringliteral}{"{}========================================================================"{}} << endl << endl;}
\DoxyCodeLine{00066         cout << \textcolor{stringliteral}{"{}Alliance "{}} << alliances[i]-\/>getID() << \textcolor{stringliteral}{"{}:"{}} << endl;}
\DoxyCodeLine{00067         }
\DoxyCodeLine{00068         \textcolor{keywordflow}{if} (alliances[i]-\/>getActive() == 2) \{}
\DoxyCodeLine{00069             cout << \textcolor{stringliteral}{"{}Status: Surrendered"{}} << endl; }
\DoxyCodeLine{00070         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (alliances[i]-\/>getActive() == 3) \{}
\DoxyCodeLine{00071             cout << \textcolor{stringliteral}{"{}Status: Found Peace"{}} << endl; }
\DoxyCodeLine{00072         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00073             cout << \textcolor{stringliteral}{"{}Status: Winner"{}} << endl; }
\DoxyCodeLine{00074         \}}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076         cout << endl << \textcolor{stringliteral}{"{}========================================================================"{}} << endl;}
\DoxyCodeLine{00077     \}}
\DoxyCodeLine{00078 }
\DoxyCodeLine{00079     cout << \textcolor{stringliteral}{"{}SIMULATION COMPLETE!"{}} << endl;}
\DoxyCodeLine{00080 }
\DoxyCodeLine{00081 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
War\+Engine.\+h\item 
War\+Engine.\+cpp\end{DoxyCompactItemize}
